<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crash –ö–∞–∑–∏–Ω–æ</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #121212;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #game {
      background: #1a1a1a;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 0 15px rgba(255, 0, 0, 0.2);
      text-align: center;
      width: 90%;
      max-width: 400px;
    }
    #coefficient {
      font-size: 4rem;
      color: #ff4b4b;
      margin: 20px 0;
    }
    #balance {
      font-size: 1.5rem; /* –ó–±—ñ–ª—å—à–µ–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É –¥–ª—è –±–∞–ª–∞–Ω—Å—É */
      font-weight: bold; /* –ñ–∏—Ä–Ω–∏–π —à—Ä–∏—Ñ—Ç –¥–ª—è –±–∞–ª–∞–Ω—Å—É */
      margin-bottom: 10px;
    }
    input[type="number"] {
      padding: 10px;
      font-size: 1rem;
      border-radius: 10px;
      border: none;
      width: 120px;
      text-align: center;
      margin-bottom: 15px;
      color: black;
    }
    button {
      padding: 12px 25px;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 5px;
      background: #ff4b4b;
      color: white;
      transition: 0.2s;
    }
    button:hover:not(:disabled) {
      background: #ff0000;
    }
    button:disabled {
      background: #444;
      cursor: not-allowed;
    }
    #status {
      margin-top: 15px;
      font-size: 1rem;
      color: #ccc;
    }
    #history {
      margin-top: 20px;
      font-size: 1rem;
      color: #ddd;
    }
    #history div {
      margin: 5px 0;
    }
    #subscribe-btn {
      background-color: #0088cc;
      margin-top: 20px;
    }
    #subscribe-btn:hover {
      background-color: #006fa6;
    }
    #subscribe-info {
      font-size: 1rem;
      color: #ccc;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="balance">üí∞ –ë–∞–ª–∞–Ω—Å: $<span id="balanceValue">10.00</span></div>
    <input type="number" id="betInput" placeholder="–°—Ç–∞–≤–∫–∞ $" step="0.10" min="0.10" value="1.00">
    <div id="coefficient">1.00x</div>
    <button id="startBtn" onclick="startGame()">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
    <button id="cashoutBtn" onclick="cashout()" disabled>–ó–∞–±—Ä–∞—Ç–∏</button>
    <div id="status"></div>
    <div id="history"></div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –ø—ñ–¥–ø–∏—Å–∫–∏ -->
    <button id="subscribe-btn" onclick="subscribe()">–û—Ç—Ä–∏–º–∞—Ç–∏ 10$ –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É –Ω–∞ TG</button>
    <div id="subscribe-info"></div>
  </div>

  <script>
    const coeffDisplay = document.getElementById('coefficient');
    const balanceDisplay = document.getElementById('balanceValue');
    const status = document.getElementById('status');
    const betInput = document.getElementById('betInput');
    const historyDiv = document.getElementById('history');
    const startBtn = document.getElementById('startBtn');
    const cashoutBtn = document.getElementById('cashoutBtn');
    const subscribeBtn = document.getElementById('subscribe-btn');
    const subscribeInfo = document.getElementById('subscribe-info');

    let balance = 10.00;
    let bet = 1.00;
    let coefficient = 1.00;
    let crashAt = 2.20;
    let isRunning = false;
    let hasCashedOut = false;
    let crashed = false;
    let interval;
    let gameHistory = [];

    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –æ—Ç—Ä–∏–º–∞–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–æ–Ω—É—Å
    if (getCookie('subscribed') === 'true') {
      subscribeBtn.disabled = true;
      subscribeInfo.textContent = '–í–∏ –≤–∂–µ –æ—Ç—Ä–∏–º–∞–ª–∏ 10$ –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É –Ω–∞ Telegram!';
    }

    function updateBalance() {
      balanceDisplay.textContent = balance.toFixed(2);
    }

    function getValidBet() {
      let value = parseFloat(betInput.value);
      if (isNaN(value) || value < 0.10) value = 0.10;
      if (value > balance) value = balance;
      value = Math.floor(value * 100) / 100;
      betInput.value = value.toFixed(2);
      return value;
    }

    function getRandomCrashPoint() {
      const r = Math.random();
      if (r < 0.7) {
        return (Math.random() * 1.10 + 1.00).toFixed(2);  // –ì–µ–Ω–µ—Ä—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥ 1.00 –¥–æ 2.10
      } else {
        return (Math.random() * 0.50 + 2.10).toFixed(2);  // –ì–µ–Ω–µ—Ä—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥ 2.10 –¥–æ 2.60
      }
    }

    function startGame() {
      bet = getValidBet();
      balance -= bet;
      updateBalance();

      coefficient = 1.00;
      crashAt = getRandomCrashPoint();
      isRunning = true;
      hasCashedOut = false;
      crashed = false;

      startBtn.disabled = true;
      cashoutBtn.disabled = false;
      status.textContent = "üéÆ –ì—Ä–∞ –ø–æ—á–∞–ª–∞—Å—å!";
      coeffDisplay.textContent = "1.00x";

      interval = setInterval(() => {
        coefficient += 0.01;
        coeffDisplay.textContent = coefficient.toFixed(2) + "x";

        if (!crashed && coefficient >= crashAt) {
          crashed = true;
          endGame();
        }
      }, 100);
    }

    function cashout() {
      if (isRunning && !hasCashedOut && !crashed) {
        hasCashedOut = true;
        const winAmount = (bet * coefficient).toFixed(2);
        balance += parseFloat(winAmount);
        updateBalance();
        status.textContent = `‚úÖ –í–∏ –∑–∞–±—Ä–∞–ª–∏ $${winAmount} –Ω–∞ ${coefficient.toFixed(2)}x`;
        cashoutBtn.disabled = true;
      }
    }

    function endGame() {
      clearInterval(interval);
      isRunning = false;

      // –î–æ–¥–∞—î–º–æ —ñ—Å—Ç–æ—Ä—ñ—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
      gameHistory.unshift(coefficient.toFixed(2)); // –æ–∫—Ä—É–≥–ª–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∞
      if (gameHistory.length > 6) {
        gameHistory.pop();
      }

      // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó
      historyDiv.innerHTML = "<strong>–Ü—Å—Ç–æ—Ä—ñ—è –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç—ñ–≤:</strong>";
      gameHistory.forEach((item, index) => {
        const historyItem = document.createElement('div');
        historyItem.textContent = `${index + 1}. ${item}x`;
        historyDiv.appendChild(historyItem);
      });

      if (!hasCashedOut) {
        status.textContent = `üí• –ö—Ä–∞—à –Ω–∞ ${coefficient.toFixed(2)}x. –í–∏ –ø—Ä–æ–≥—Ä–∞–ª–∏.`;
      }

      startBtn.disabled = false;
    }

    function subscribe() {
      // –í—Å—Ç–∞–≤—Ç–µ —Å–≤–æ—é –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ Telegram —Ç—É—Ç
      const telegramLink = "https://t.me/+IaOFneLjFgplMmYy"; // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à—É —Å—Å–∏–ª–∫—É

      // –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ –∫–∞–Ω–∞–ª
      window.open(telegramLink, '_blank');

      // –î–æ–¥–∞—î–º–æ 10$ –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É
      balance += 10;
      updateBalance();
      setCookie('subscribed', 'true', 365); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∫—É–∫–∏ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –Ω–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–Ω–æ–ø–∫—É –∑–Ω–æ–≤—É
      subscribeBtn.disabled = true;
      subscribeInfo.textContent = '–í–∏ –≤–∂–µ –æ—Ç—Ä–∏–º–∞–ª–∏ 10$ –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É –Ω–∞ Telegram!';
    }

    // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—É–∫–∞–º–∏
    function setCookie(name, value, days) {
      let expires = "";
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toGMTString();
      }
      document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function getCookie(name) {
      const nameEQ = name + "=";
      const ca = document.cookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }
  </script>
</body>
</html>

